<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Test Automation ROI Calculator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <style>
      #curve_chart {width: 100%; height: 500px}
      #footer {padding: 2.5rem 0; color: #727272; text-align: center; background-color: #f9f9f9; border-top: 0.05rem solid #e5e5e5; margin-top: 150px}
      h1 {margin: 20px}
    </style>
  </head>
  <body>
    <h1 class="text-center">Test Automation ROI Calculator</h1>
    <main id="app" class="container">
      <section class="row mb-3">
        <div class="col-md-9">
          <div id="curve_chart" class="border"></div>
        </div>
        <div class="col-md-3">
          <div class="mb-3 border p-2">
            <h4 class="mb-2">Information</h4>
            <div class="row mb-2">
              <label for="colFormLabel1" class="col-sm-6 col-form-label">ROI</label>
              <div class="col-sm-6">
                <input type="text" class="form-control" id="colFormLabel1" :placeholder="roi + ' %'" disabled>
              </div>
            </div>
            <div class="row mb-2">
              <label for="colFormLabel2" class="col-sm-6 col-form-label">Break-Even Point</label>
              <div class="col-sm-6">
                <input type="number" class="form-control" id="colFormLabel2" :placeholder="breakEvenPoint" disabled>
              </div>
            </div>
            <h4 class="mb-2">Settings</h4>
            <div class="row mb-2">
              <label for="colFormLabel3" class="col-sm-6 col-form-label">Test Runs</label>
              <div class="col-sm-6">
                <input type="number" class="form-control" id="colFormLabel3" v-model="testRuns">
              </div>
            </div>
            <div class="form-check mb-3">
              <input type="checkbox" class="form-check-input" id="exampleCheck1" v-model="showFactors">
              <label class="form-check-label" for="exampleCheck1">Show Factors</label>
            </div>
            <button class="btn btn-secondary" @click="updatePlot()">Update</button>
          </div>
        </div>
      </section>
      <section class="row mb-3">
        <div class="col-md-6">
          <div class="mb-3 border p-2">
            <div class="d-flex justify-content-between">
              <div>
                <h3>Factors</h3>
                <p>(Manual Testing)</p>
              </div>
              <div class="pt-3">
                <button class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#modalInput">Add Factor</button>
              </div>
            </div>

            <div v-for="(factor, index) in manualFactors" class="d-flex justify-content-between p-3 rounded border mb-1">
              <h5>{{ factor.name }}</h5>
              <div>
                <button class="btn btn-primary m-1" data-bs-toggle="modal" data-bs-target="#modalInput">Edit</button>
                <button class="btn btn-danger m-1" @click="deleteFactore(index)">Delete</button>
              </div>
            </div>

          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3 border p-2">
            <div class="d-flex justify-content-between">
              <div>
                <h3>Factors</h3>
                <p>(Automated Testing)</p>
              </div>
              <div class="pt-3">
                <button class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#modalInput">Add Factor</button>
              </div>
            </div>
            
            <div v-for="factor in automatedFactors" class="d-flex justify-content-between p-3 rounded border mb-1">
              <h5>{{ factor.name }}</h5>
              <div>
                <button class="btn btn-primary m-1" data-bs-toggle="modal" data-bs-target="#modalInput">Edit</button>
                <button class="btn btn-danger m-1">Delete</button>
              </div>
            </div>

          </div>
        </div>
      </section>
      <!-- Modal Add Factor (Manual Testing) -->
      <div class="modal modal-lg fade" id="modalInput" tabindex="-1" aria-labelledby="modalInputLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="modalInputLabel">Add Factor (Manual Testing)</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              
              
              <div class="form-group row mb-3">
                <label for="inputEmail3" class="col-sm-3 col-form-label">Factor Name</label>
                <div class="col-sm-4">
                  <input type="text" class="form-control" id="inputEmail3" placeholder="Factor" v-model="currentFactor.name">
                </div>
              </div>
              <fieldset class="form-group mb-1">
                <div class="row">
                  <legend class="col-form-label col-sm-3 pt-0">Cost Type</legend>
                  <div class="col-sm-9">
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios1" value="fix" v-model="currentFactor.type" autocomplete="off" v-bind:value="0" checked>
                      <label class="form-check-label" for="gridRadios1">
                        Fixed Cost
                      </label>
                    </div>
                    <div class="form-check mb-3">
                      <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios2" value="var" v-model="currentFactor.type" v-bind:value="1">
                      <label class="form-check-label" for="gridRadios2">
                        Variable Cost
                      </label>
                    </div>
                  </div>
                </div>
              </fieldset>
              <div class="form-group row">
                <label for="inputEmail3" class="col-sm-3 col-form-label">Value</label>
                <div class="col-sm-4">
                  <input type="number" class="form-control" id="inputEmail3" placeholder="Price">
                </div>
              </div>



            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
              <button type="button" class="btn btn-primary" @click="setFactore()">Add</button>
            </div>
          </div>
        </div>
      </div>
    </main>
    <footer id="footer">
      <p><a href="" data-bs-toggle="modal" data-bs-target="#modalAbout">About</a> • <a href="#" data-bs-toggle="modal" data-bs-target="#modalExample">Example</a> • <a href="#" data-bs-toggle="modal" data-bs-target="#modalAlternatives">Alternatives</a></p>
    </footer>
    <!-- Modal -->
    <div class="modal modal-lg fade" id="modalAbout" tabindex="-1" aria-labelledby="modalAboutLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalAboutLabel">About</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            1
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <!-- Modal -->
    <div class="modal modal-lg fade" id="modalExample" tabindex="-1" aria-labelledby="modalExampleLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalExampleLabel">Example</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            2
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <!-- Modal -->
    <div class="modal modal-lg fade" id="modalAlternatives" tabindex="-1" aria-labelledby="modalAlternativesLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalAlternativesLabel">Alternatives</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            3
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
  </main>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/vue@3"></script>
    <script>

      const { createApp } = Vue

      createApp({
        data() {
          return {
            roi: 0,
            breakEvenPoint: 0,
            testRuns: 7,
            showFactors: true,

            currentFactor: {name: '', value: 0, type: 'fix'},
            manualFactors: [{name: 'Factor 1', value: 0, type: 'fix'}, {name: 'Factor 2', value: 0, type: 'fix'}],
            automatedFactors: [{name: 'Factor 3', value: 0, type: 'fix'}, {name: 'Factor 4', value: 0, type: 'fix'}]
          }
        },
        methods: {
          setFactore() {
            console.log(this.currentFactor)
            this.manualFactors.push({name: this.currentFactor.name, value: this.currentFactor.value, type: this.currentFactor.type})
            this.newFactor = ''
          },
          editFactore(index, factor) {
            console.log(index + " " + factor)
          },
          deleteFactore(index) {
            console.log(index)
          },
          updatePlot() {
            console.log('update!')
          }
        }
      }).mount('#app')



      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Test runs', 'Manuel Testing', 'Automated Testing', 'Fixed Costs (Manuel Testing)', 'Variable Costs (Manuel Testing)', 'Fixed Costs (Automated Testing)', 'Variable Costs (Automated Testing)'],
          ['0',         100,              500,                 100,                            0,                                 500,                               0                                   ],
          ['1',         200,              550,                 100,                            100,                               500,                               50                                  ],
          ['2',         300,              600,                 100,                            200,                               500,                               100                                 ],
          ['3',         400,              650,                 100,                            300,                               500,                               150                                 ],
          ['4',         500,              700,                 100,                            400,                               500,                               200                                 ],
          ['5',         600,              750,                 100,                            500,                               500,                               250                                 ],
          ['6',         700,              800,                 100,                            600,                               500,                               300                                 ],
          ['7',         800,              850,                 100,                            700,                               500,                               350                                 ],
          ['5',         900,              900,                 100,                            800,                               500,                               400                                 ],
          ['6',         1000,             950,                 100,                            900,                               500,                               450                                 ],
          ['7',         1100,             1000,                100,                            1000,                              500,                               500                                 ]
        ]);

        var options = {
          curveType: 'function',
          legend: { position: 'bottom' },
          colors: ['#70AD47', '#4472C4', '#b7d9a2', '#b7d9a2', '#a1b9e1', '#a1b9e1'],
          hAxis: {
            title: 'Test runs'
          },
          vAxis: {
            title: 'Cost of testing'
          },
          series: {
            0: { lineWidth: 5 },
            1: { lineWidth: 5 }
          }
        };

        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

        chart.draw(data, options);

      }

    </script>
  </body>
</html>
